#---------------------------------#
#      general configuration      #
#---------------------------------#

# branches to build
branches:
  only:
    - master

#---------------------------------#
#    environment configuration    #
#---------------------------------#

os: Windows Server 2012

init:
  - git config --global core.autocrlf input

#environment variables
environment:
  oauth_token:
    secure: lYR11R1tdRsM90UhyXCxCUf30lhL/OJ40Sb9pPzc4mFRSVhVRZw449MqLf+phNRT

install:
  - ps: (new-object System.Net.WebClient).DownloadFile('http://flickrdownloadr.com/installer/win/dependencies/gtk-sharp-2.12.25.msi','gtk-sharp-2.12.25.msi')
  - ps: msiexec /i gtk-sharp-2.12.25.msi /quiet /qn /norestart /log install.log

#---------------------------------#
#       build configuration       #
#---------------------------------#

build_script:
  - cd ./build-tools || goto :error
  - go "" Release || goto :error
  - echo 'Build (and Deploy) completed...' || goto :error
  - goto :EOF
  - :error
  - echo Failed with error #%errorlevel%.
  - exit /b %errorlevel%

#---------------------------------#
#       tests configuration       #
#---------------------------------#

test: off

#---------------------------------#
#     deployment configuration    #
#---------------------------------#

deploy: off
